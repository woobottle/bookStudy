## thread가 많아진다고 성능이 올라가지 않는건지?

=> 스레드가 너무 많으면 프로그램의 성능이 심각하게 떨어진다. 이유는????

1. 하나의 일을 여러 스레드에 나누면 하나의 스레드는 실제로 하는 일이 별로 없어진다. 스레드를 종료하고 시작하는 비용이 실제 하는 일의 양보다 많다.
2. 한정된 하드웨어 자원을 공유하는데 드는 비용이 커진다. 
3. 프로그램 복잡도가 올라가서?? -> data race상태 발생하고 제어하기가 힘듬
4. 스택이 차지하는 메모리가 늘어남, pcb안에 tcb(thread control block)이 많아지고, 컨텍스트 스위칭시 compare할게 많아진다. 
5. 아무리 개수가 많아도 코어의 개수만큼만 돌아가고 나머지는 waiting중!! 그래서 코어의 개수에 맞춰서 돌려주기도 함.
6. 게임서버의 경우 보통 1.5배로 생성해 두기도 한다.
7. 코어의 개수보다 많이 만들어 버리면 컨텍스트 스위치 오버헤드(컨텍스트 스위칭시 compare) 때문에 느려짐

## 코어, 스레드
**코어: 물리적인 하나의 연산부,**
**스레드: 논리적이건 물리적이건 os가 인식하는 작업 단위**

1코어 2스레드는 가상으로 1개의 코어를 늘려서 총 2개의 코어처럼 만든것을 말함   
스레드는 하드웨어 스레드, 소프트웨어 스레드로 종류가 나뉜다.   
프로그램마다 최대 지원하는 코어들이 정해져 있어 속도에 리밋이 있다.   

![image](https://user-images.githubusercontent.com/50283326/135753430-6f4fd7b9-b225-493f-bb2f-73282d2e24d2.png)


<hr>

1. <https://andromedarabbit.net/%EB%A9%80%ED%8B%B0%EC%BD%94%EC%96%B4-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%97%90%EC%84%9C-%ED%9D%94%ED%9E%88-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%EB%AC%B8%EC%A0%9C-1%EB%B6%80/>
2. <https://quasarzone.com/bbs/qf_cmr/views/151730>