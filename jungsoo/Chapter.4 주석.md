# 4장. 주석

- 나쁜 코드에 주석을 달지 마라. 새로 짜라.
- 사실상 주석은 기껏해야 필요악이다.

- 우리는 코드로 의도를 표현하지 못해, "실패"를 만회하기 위해 주석을 사용한다.
- 그러므로 주석이 필요한 상황에 처하면 곰곰이 생각하기 바란다.
코드로 의도를 표현할 방법은 없을까?

- 프로그래머들이 주석을 유지하고 보수하기란 현실적으로 불가능하기에
주석은 오래될수록 완전히 그릇될 가능성도 커진다.
- 프로그래머들에게도 절도가 필요하다.
하지만 필자라면 코드를 깔끔하게 정리하고 표현력을 강화하는 방향으로,
그래서 애초에 주석이 필요 없는 방향으로 에너지를 쏟겠다.

## 주석은 나쁜 코드를 보완하지 못한다.

## 코드로 의도를 표현해라

## 좋은 주석

- 글자 값을 한다고 생각하는 주석이지만
정말로 좋은 주석은, 주석을 달지 않을 방법을 찾아낸 주석이다.

### 법적인 주석

- 때로 회사가 정립한 구현 표준에 맞춰 법적인 이유로 특정 주석을 넣으라고 명시한다.

### 정보를 제공하는 주석

- 때로는  기본적인 정보나 형식을 제공하는 주석은 편리하다

### 의도를 설명하는 주석

### 의미를 명료하기 밝히는 주석

```jsx
// a == a
// a != b
...
```

### 결과를 경고하는 주석

```jsx
// 여유 시간이 충분하지 않다면 실행하지 마십시오.
```

- 이러한 주석은 매우 합리적이다.

### ToDo 주석

- 프로그래머가 필요하다 여기지만 당장 구현하기 어려운 업무를 기술한다.
- 그러나 나쁜 코드를 남겨 놓는 핑계가 되어서는 안 된다.

### 중요성을 강조하는 주석

- 자칫 대수롭지 않다고 여겨질 뭔가의 중요성을 강조하기 위해

```jsx
// 여기서 trim은 정말 중요하다. 문자열에서 시작 공백을 제거한다.
```

### 공개 API에서 Javadocs

## 나쁜 주석

### 주절거리는 주석

- 답을 알아내려면 다른 코드를 뒤져보는 수밖에 없다. 이해가 안 되어 다른 모듈까지 뒤져야 하는 주석은 독자와 제대로 소통하지 못하는 주석이다.
- 그런 주석은 바이트만 낭비할 뿐이다.

### 같은 이야기를 중복하는 주석

- 주석이 코드보다 더 많은 정보를 제공하지 못한다.

### 오해할 여지가 있는 주석

### 의무적으로 다는 주석

- 모든 함수나 변수에 주석을 달아야 한다는 규칙은 어리석기 그지없다.

### 이력을 기록하는 주석

- 이전에는 소스 코드 관리 시스템이 없었으니 이런 변경 이력을 기록하고 관리하는 관례가 바람직했다.
- 하지만 이제는 혼란만 가중할 뿐이다.

### 있으나 마나 한 주석

- 너무 당연한 사실을 언급하며 새로운 정보를 제공하지 못하는 주석
- 개발자가 주석을 무시하는 습관에 빠진다.
- 결국은 코드가 바뀌면서 주석은 거짓말로 변한다.
- 있으나 마나 한 주석을 달려는 유혹에서 벗어나 코드를 정리하라.
- 더 낫고, 행복한 프로그래머가 되는 지름길이다.

### 무서운 잡음

### 함수나 변수로 표현할 수 있다면 주석을 달지 마라

### 위치를 표시하는 주석

- 너무 자주 사용하지 않는다면 배너는 눈에 띄며 주의를 환기한다.
- 그러므로 반드시 필요할 때만, 아주 드물게 사용하는 편이 좋다.

### 닫는 괄호에 다는 주석

- 중첩이 심하고 장황한 함수라면 의미있을지 모르지만
우리가 성호하는 작고 캡슐화된 함수에는 잡음일 뿐이다.
- 함수를 줄이려 시도하자.

### 공로를 돌리거나 저자를 표시하는 주석

- 이와 같은 정보는 소스 코드 관리 시스템에 저장하는 편이 좋다.

### 주석으로 처리한 코드

- 이러한 코드는 다른 사람들이 지우기를 주저한다.
- 이유가 있어 남겨놓았으리라고, 중요하니깐 지우면 안 된다고 생각한다.
- 소스 코드 관리 시스템이 우리를 대신해 코드를 기억해준다.
- 그냥 코드를 삭제하라. 잃어버릴 염려는 없다. 약속한다.

### HTML 주석

- 소스 코드에서 HTML 주석은 매우 읽기가 어렵기 때문에 혐오 그 자체다.

### 전역 정보

- 주석을 달아야 한다면 근처에 있는 코드만 기술하라.
- 일부에 주석을 달면서 시스템의 전반적인 정보를 기술하지 마라.

### 너무 많은 정보

- 흥미로운 역사나 관련 없는 정보를 장황하게 늘어놓지 마라.

### 모호한 관계

- 주석 자체가 다시 설명을 요구하니 안타깝기 그지없다.

### 함수 헤더

- 짧은 함수는 길 설명이 필요 없다.
- 짧고 한 가지만 수행하며 이름을 잘 붙인 함수가 주석으로 헤더를 추가한 함수보다 훨씬 좋다.

### 비공개 코드에서의 Javadocs

- 공개 API는 공개하지 않을 코드라면 javadocs를 생성할 필요는 없다.

### 예제