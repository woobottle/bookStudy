# Chapter.10 Classes

- 코드의 표현력과 코드로 이루어진 함수에 아무리 신경을 쓸지라도 높은 차원의 단계까지 신경쓰지 않으면 깨끗한 코드를 얻기 어렵다.

## 클래스 체계

- 클래스를 정의할때의 표준 자바 관계
    1. static public 변수
    2. static private 변수
    3. private 변수
    4. public 변수가 필요한 경우는 거의 없음.
    5. public 함수
    6. private 함수는 자신을 호출하는 함수 직후에 넣는다.
    (추상화 단계가 순차적으로 내려감)
    
    ### 캡슐화
    
    - 같은 패키지 안에서 테스트 코드가 함수를 호출하거나 변수를 사용해야 한다면 protected로 선언하거나 패키지 전체로 공개
    - 그러나 비공개 상태를 유지할 온갖 방법을 강구한다.
    - 캡슐화를 풀어주는 결정은 언제나 최후의 수단.
    

## 클래스는 작아야 한다.

- 함수와 마찬가지로, '작게'가 기본 규칙이다. 다만 얼마나 작아야 하는가?
- 클래스가 맡은 책임을 척도로 작성
- processor, manager, super와 같은 모호한 단어가 있으면 안 된다.
- 클래스에 대한 설명은 if, and, or, but을 사용하지 않고 25단어 내외로 가능해야 한다.

### 단일 책임 원칙 (Single Responsibility Principle)

- 클래스나 모듈을 변경할 이유가 단 하나뿐이어야 한다는 원칙.
- 많은 개발자들이 자잘한 단일 책임 클래스가 많아지면 큰 그림을 이해하기 어려워진다고 우려한다.
큰 그림을 이해하려면 이 클래스, 저 클래스를 수없이 넘나들어야 한다고 걱저한다.
- 하지만 작은 클래스가 많은 시스템이든 큰 클래스가 몇 개뿐인 시스템이든 돌아가는 부품은 그 수가 비슷하다.
- 큰 클래스 몇 개가 아니라 작은 클래스 여럿으로 이뤄진 시스템이 더 바람직하다.

### 응집도 (Cohesion)

- 메서드가 변수를 더 많이 사용할수록 메서드와 클래스는 응집도가 더 높다.
- 모든 인스턴스 변수를 메서드마다 사용하는 클래스는 응집도가 가장 높다.
- 클래스는 인스턴스 변수 수가 작아야 한다.

### 응집도를 유지하면 작은 클래스 여럿이 나온다.

- 분리하려는 코드가 큰 함수에 정의된 변수를 사용 ⇒ 인스턴스 변수로 변경 ⇒ 응집력 사라짐 ⇒ 클래스 분리.
- 클래스가 응집력을 잃는다면 쪼개라.
- 큰 함수를 작은 함수 여럿으로 쪼개다 보면 종종 작은 클래스 여럿으로 쪼갤 기회가 생긴다.

## 변경하기 쉬운 클래스

- 클래스 일부에서만 사용되는 비공개 메서드는 코드를 개선할 잠재적인 여지를 시사한다.
하지만 실제로 개선에 뛰어드는 계기는 시스템이 변경해서라야 한다.
- 이상적인 시스템이라면 새 기능을 추가할 때 시스템을 확장할 뿐 기존 코드를 변경하지는 않는다.

### 변경으로부터 격리

- Concrete Class ⇒ 상세한 구현(코드)를 포함
- Abstract Class ⇒ 개념만 포함
- ConcreteClass에 의존하는 client Class는 구현이 바뀌면 위험에 빠진다.
그래서 우린 인터페이스와 추상 클래스를 사용해 구현에 미치는 영향을 격리한다.
- 결합도가 낮다는 소리는 각 시스템 요소가 다른 요소로부터 그리고 변경으로부터 잘 격리되어 있다는 의미이다.
- 시스템 요소가 서로 잘 격리되어 있으면 각 요소를 이해하기도 더 쉬워진다.
- 결함도를 최소로 줄이면 자연스럽게 또 다른 클래스 설계 원칙인
DIP(Dependency Inversion Principle)를 따르는 클래스가 나온다.
DIP는 클래스가 상세한 구현이 아니라 추상화에 의존해야 한다는 원칙이다.

⇒ 무슨 말인지교... 흠...